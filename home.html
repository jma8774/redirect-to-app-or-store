<!DOCTYPE html>
<html>

<head>
  <script>

  function go() {
    window.location.href = "roon://";
    this.timer = setTimeout(redirectToAppStore, 25);
  }

  function redirectToAppStore() {
    var userAgent = navigator.userAgent || navigator.vendor || window.opera;

    if (/android/i.test(userAgent)) {
      // User is using an Android device
      window.location.href = 'https://play.google.com/store/apps/details?id=com.roon.mobile'; // Replace with your Android app's Play Store URL
    } else if (/iPad|iPhone|iPod/i.test(userAgent)) {
      // User is using an iOS device
      window.location.href = 'https://apps.apple.com/us/app/roon-remote/id1014764083'; // Replace with your iOS app's App Store URL
    } else {
      // User is on another platform
      // Not possible to detect whether or not the app was installed and opened, so on Desktop, we will always show this alert even if they opened the app successfully
      alert('You are not on an Android or iOS device, so we cannot take you to the app store')
      window.location.href = 'https://roon.app/en/';
    }
  }
  </script>
</head>

<body>
  <h2>Demo Redirecting</h2>

  <p>Try to open the Roon app, and if the app is not installed, it will redirect the user on mobile to the app store</p>
  <button type="button" onclick="go()">Try it</button>
</body>

</html>